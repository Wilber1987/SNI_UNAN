@page
@model SNI_UI2.Pages.Perfil.PerfilViewerModel
@using SNI_UI2.Controllers
@{
    // Layout = null;
    if (!SecurityController.Auth())
    {
        Response.Redirect("~/Security/login");
        return;
    }
    if (!SecurityController.HavePermission("PERFIL_ACCESS"))
    {
        Response.Redirect("~/Security/permission_error");
        return;
    }
}
<script type="module">
    import { WRender, WArrayF, ComponentsManager, WAjaxTools } from '../WDevCore/WModules/WComponentsTools.js';
    import { WCssClass } from '../WDevCore/WModules/WStyledRender.js';
    import { StyleScrolls } from "../WDevCore/StyleModules/WStyleComponents.js";
    import { WAppNavigator } from "../WDevCore/WComponents/WAppNavigator.js";
    Header.append(WRender.createElement({
                type: "w-app-navigator",
                props: {
                    Inicialize: false,
                    alignItems: "flex-end",
                    DisplayMode: "right",
                    Elements: [
                        {
                            name: "Home", url: "#",
                            action: async (ev) => {
                                window.location = location.origin + "/";
                            }
                        }, {
                            name: "Opciones", url: "#",
                            action: (ev) => {
                                const ModalPerfil = new WModalForm({
                                    title: "Eliminar",
                                    ObjectModal: new WAppNavigator({
                                        Direction: "column",
                                        NavStyle: "tab",
                                        Elements: [
                                            {
                                                name: "Perfil", url: "#",
                                                action: (ev) => {
                                                }
                                            }, {
                                                name: "Agenda", url: "#",
                                                action: (ev) => {
                                                }
                                            }, {
                                                name: "Cerrar Sesión", url: "#",
                                                action: (ev) => {
                                                    WSecurity.LogOut();
                                                }
                                            }
                                        ]
                                    })
                                });
                                this.append(ModalPerfil);

                            }
                        }
                    ]
                }
            }));
    AdminTemplate.append(WRender.createElement(StyleScrolls));
</script>
<script src="../Views/Perfil/ViewProfile.js" type="module"></script>